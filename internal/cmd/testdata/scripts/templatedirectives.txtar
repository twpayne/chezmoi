# test --left-delimiter and --right-delimiter flags to chezmoi execute-template
exec chezmoi execute-template --left-delimiter=[[ --right-delimiter=]] '[[ "ok" ]]'
stdout ^ok$

# test that missing key behavior can be set in files
exec chezmoi cat $HOME${/}missing-key
cmp stdout golden/missing-key

# test that template delimiters can be set in files
exec chezmoi cat $HOME${/}nested-template
cmp stdout golden/nested-template

-- golden/missing-key --
<no value>
-- golden/nested-template --
(nested)
-- home/user/.local/share/chezmoi/.chezmoitemplates/nested --
# chezmoi:template:left-delimiter=(( right-delimiter=))
((- . -))
-- home/user/.local/share/chezmoi/missing-key.tmpl --
# chezmoi:template:missing-key=default
{{ .MissingKey }}
-- home/user/.local/share/chezmoi/nested-template.tmpl --
# chezmoi:template:left-delimiter=[[ right-delimiter=]]
([[ template "nested" "nested" ]])
