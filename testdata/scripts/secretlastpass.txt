chezmoi secret lastpass -- show --json example.com
stdout examplelogin

chezmoi apply
cmp $HOME/.netrc golden/.netrc

-- bin/lpass --
#!/bin/sh

case "$*" in
"--version")
    echo "LastPass CLI v1.3.3.GIT"
    ;;
"show --json example.com")
    cat <<EOF
[
  {
    "id": "0",
    "name": "example.com",
    "fullname": "Examples/example.com",
    "username": "examplelogin",
    "password": "examplepassword",
    "last_modified_gmt": "0",
    "last_touch": "0",
    "group": "Examples",
    "url": "",
    "note": "" 
  } 
] 
EOF
    ;;
*)
    echo "lpass: invalid command: $*"
    exit 1
esac
-- bin/lpass.cmd --
@echo off
IF "%*" == "--version" (
    echo LastPass CLI v1.3.3.GIT
) ELSE IF "%*" == "show --json example.com" (
    echo.[
    echo. {
    echo.  "id": "0",
    echo.  "name": "example.com",
    echo.  "fullname": "Examples/example.com",
    echo.  "username": "examplelogin",
    echo.  "password": "examplepassword",
    echo.  "last_modified_gmt": "0",
    echo.  "last_touch": "0",
    echo.  "group": "Examples",
    echo.  "url": "",
    echo.  "note": ""
    echo. }
    echo.]
)
-- home/user/.local/share/chezmoi/private_dot_netrc.tmpl --
machine example.com
login {{ (index (lastpass "example.com") 0).username }}
password {{ (index (lastpass "example.com") 0).password }}
-- golden/.netrc --
machine example.com
login examplelogin
password examplepassword
